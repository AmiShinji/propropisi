{% from 'front/utils/macros.jinja' import svgSprite %}

{% from 'front/components/TasksListStudentFilter/TasksListStudentFilter.jinja' import TasksListStudentFilter %}
{% from 'front/components/TaskStudent/TaskStudent.jinja' import TaskStudent %}

{% set marksName = {
    '2': 'Плохо',
    '3': 'Удовлетворительно',
    '4': 'Хорошо',
    '5': 'Отлично'
} %}

{% macro TasksListStudent(data={}, statuses={}) %}
    <div class="TasksListStudent">
        <div class="TasksListStudent-wrapper">
            <div class="TasksListStudent-account">
                <div class="TasksListStudent-accountWrapper">
                    <div class="TasksListStudent-accountImg">
                        <img src="{{ data.img.thumb }}">
                    </div>
                    <div class="TasksListStudent-accountInfo">
                        <div class="TasksListStudent-accountInfoName">{{ data.name }}</div>
                        <div class="TasksListStudent-accountInfoPosition">{{ data.classname }}</div>
                    </div>
                </div>
            </div>
            <div class="TasksListStudent-footer TasksListStudent-footer--mobile">
                <div class="TasksListStudent-footerWrapper">
                    <div class="TasksListStudent-footerLine">
                        <svg width="586px" height="17px" viewBox="0 0 586 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <defs>
                                <linearGradient x1="0%" y1="0%" x2="100%" y2="0%" id="linearGradient-1">
                                    <stop stop-color="#2ED47A" offset="0%"></stop>
                                    <stop stop-color="#2ED47A" offset="50%" class="TasksListStudent-footerLineEnd"></stop>
                                    <stop stop-color="#C2CFE0" offset="50%" class="TasksListStudent-footerLineStart"></stop>
                                    <stop stop-color="#C2CFE0" offset="100%"></stop>
                                </linearGradient>
                            </defs>
                            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <g id="Vector" fill="url(#linearGradient-1)" fill-rule="nonzero">
                                    <path d="M584,0 C585.105,0 586,0.895431 586,2 C586,3.10457 585.105,4 584,4 L575.945,4 L575.945,15.0977 C575.945,15.5576692 575.600763,15.9372882 575.156113,15.9929694 L575.043,16 C574.545,16 574.141,15.596 574.141,15.0977 L574.141,15.0977 L574.141,4 L557.141,4 L557.141,9.09766 C557.141,9.55767538 556.796763,9.93728935 556.351327,9.99296951 L556.238,10 C555.74,10 555.336,9.59601 555.336,9.09766 L555.336,9.09766 L555.336,4 L538.336,4 L538.336,9.09766 C538.336,9.55767538 537.991763,9.93728935 537.547113,9.99296951 L537.434,10 C536.935,10 536.531,9.59601 536.531,9.09766 L536.531,9.09766 L536.531,4 L519.53,4 L519.531,9.09766 C519.531,9.55767538 519.186763,9.93728935 518.742113,9.99296951 L518.629,10 C518.131,10 517.727,9.59601 517.727,9.09766 L517.727,9.09766 L517.726,4 L500.727,4 L500.727,9.09766 C500.727,9.55767538 500.382763,9.93728935 499.937327,9.99296951 L499.824,10 C499.326,10 498.922,9.59601 498.922,9.09766 L498.922,9.09766 L498.922,4 L481.921,4 L481.922,8.71671 C481.922,9.17672538 481.577763,9.55633935 481.133113,9.61201951 L481.02,9.61905 C480.521,9.61905 480.117,9.21506 480.117,8.71671 L480.117,8.71671 L480.116,4 L463.117,4 L463.117,8.71671 C463.117,9.17672538 462.772763,9.55633935 462.328113,9.61201951 L462.215,9.61905 C461.716,9.61905 461.312,9.21506 461.312,8.71671 L461.312,8.71671 L461.312,4 L444.311,4 L444.312,8.09766 C444.312,8.55767538 443.968615,8.93728935 443.52331,8.99296951 L443.41,9 C442.912,9 442.508,8.59601 442.508,8.09766 L442.508,8.09766 L442.507,4 L425.508,4 L425.508,7.71671 C425.508,8.17672538 425.163763,8.55633935 424.718327,8.61201951 L424.605,8.61905 C424.107,8.61905 423.703,8.21506 423.703,7.71671 L423.703,7.71671 L423.703,4 L406.703,4 L406.703,8.71671 C406.703,9.17672538 406.358763,9.55633935 405.914113,9.61201951 L405.801,9.61905 C405.302,9.61905 404.898,9.21506 404.898,8.71671 L404.898,8.71671 L404.898,4 L387.897,4 L387.898,16.0977 C387.898,16.5576692 387.553763,16.9372882 387.109113,16.9929694 L386.996,17 C386.498,17 386.094,16.596 386.094,16.0977 L386.094,16.0977 L386.093,4 L369.094,4 L369.094,7.71671 C369.094,8.17672538 368.749763,8.55633935 368.304327,8.61201951 L368.191,8.61905 C367.693,8.61905 367.289,8.21506 367.289,7.71671 L367.289,7.71671 L367.289,4 L350.288,4 L350.289,7.71671 C350.289,8.17672538 349.944763,8.55633935 349.500113,8.61201951 L349.387,8.61905 C348.888,8.61905 348.484,8.21506 348.484,7.71671 L348.484,7.71671 L348.483,4 L331.484,4 L331.484,6.71671 C331.484,7.17672538 331.139763,7.55633935 330.695113,7.61201951 L330.582,7.61905 C330.084,7.61905 329.68,7.21506 329.68,6.71671 L329.68,6.71671 L329.68,4 L312.68,4 L312.68,6.71671 C312.68,7.17672538 312.335763,7.55633935 311.890327,7.61201951 L311.777,7.61905 C311.279,7.61905 310.875,7.21506 310.875,6.71671 L310.875,6.71671 L310.875,4 L293.874,4 L293.875,8.09766 C293.875,8.55767538 293.530763,8.93728935 293.086113,8.99296951 L292.973,9 C292.474,9 292.07,8.59601 292.07,8.09766 L292.07,8.09766 L292.069,4 L275.07,4 L275.07,7.71671 C275.07,8.17672538 274.725763,8.55633935 274.281113,8.61201951 L274.168,8.61905 C273.67,8.61905 273.266,8.21506 273.266,7.71671 L273.266,7.71671 L273.266,4 L256.266,4 L256.266,7.71671 C256.266,8.17672538 255.921763,8.55633935 255.476327,8.61201951 L255.363,8.61905 C254.865,8.61905 254.461,8.21506 254.461,7.71671 L254.461,7.71671 L254.461,4 L237.461,4 L237.461,7.71671 C237.461,8.17672538 237.116763,8.55633935 236.672113,8.61201951 L236.559,8.61905 C236.06,8.61905 235.656,8.21506 235.656,7.71671 L235.656,7.71671 L235.656,4 L218.656,4 L218.656,7.71671 C218.656,8.17672538 218.311763,8.55633935 217.867113,8.61201951 L217.754,8.61905 C217.256,8.61905 216.852,8.21506 216.852,7.71671 L216.852,7.71671 L216.852,4 L199.852,4 L199.852,16.0977 C199.852,16.5576692 199.507763,16.9372882 199.062327,16.9929694 L198.949,17 C198.451,17 198.047,16.596 198.047,16.0977 L198.047,16.0977 L198.047,4 L181.047,4 L181.047,8.09766 C181.047,8.55767538 180.702763,8.93728935 180.258113,8.99296951 L180.145,9 C179.646,9 179.242,8.59601 179.242,8.09766 L179.242,8.09766 L179.242,4 L162.242,4 L162.242,7.71671 C162.242,8.17672538 161.897763,8.55633935 161.453113,8.61201951 L161.34,8.61905 C160.841,8.61905 160.438,8.21506 160.438,7.71671 L160.438,7.71671 L160.438,4 L143.438,4 L143.438,7.71671 C143.438,8.17672538 143.093763,8.55633935 142.648327,8.61201951 L142.535,8.61905 C142.037,8.61905 141.633,8.21506 141.633,7.71671 L141.633,7.71671 L141.633,4 L124.633,4 L124.633,7.71671 C124.633,8.17672538 124.288763,8.55633935 123.843327,8.61201951 L123.73,8.61905 C123.232,8.61905 122.828,8.21506 122.828,7.71671 L122.828,7.71671 L122.828,4 L105.828,4 L105.828,8.09766 C105.828,8.55767538 105.483763,8.93728935 105.039113,8.99296951 L104.926,9 C104.427,9 104.023,8.59601 104.023,8.09766 L104.023,8.09766 L104.023,4 L87.023,4 L87.0234,7.71671 C87.0234,8.17672538 86.6791633,8.55633935 86.2342774,8.61201951 L86.1211,8.61905 C85.6227,8.61905 85.2188,8.21506 85.2188,7.71671 L85.2188,7.71671 L85.218,4 L68.218,4 L68.2188,7.71671 C68.2188,8.17672538 67.8745633,8.55633935 67.4295987,8.61201951 L67.3164,8.61905 C66.8181,8.61905 66.4141,8.21506 66.4141,7.71671 L66.4141,7.71671 L66.414,4 L49.414,4 L49.4141,7.71671 C49.4141,8.17672538 49.0698633,8.55633935 48.6248987,8.61201951 L48.5117,8.61905 C48.0134,8.61905 47.6094,8.21506 47.6094,7.71671 L47.6094,7.71671 L47.609,4 L30.609,4 L30.6094,7.71671 C30.6094,8.17672538 30.2651633,8.55633935 29.8201987,8.61201951 L29.707,8.61905 C29.2087,8.61905 28.8047,8.21506 28.8047,7.71671 L28.8047,7.71671 L28.804,4 L11.804,4 L11.8047,16.0977 C11.8047,16.5576692 11.4604633,16.9372882 11.0154987,16.9929694 L10.9023,17 C10.404,17 10,16.596 10,16.0977 L10,16.0977 L10,4 L2,4 C0.895426,4 0,3.10457 0,2 C0,0.895431 0.89543,0 2,0 L584,0 Z" id="Combined-Shape"></path>
                                </g>
                            </g>
                        </svg>
                    </div>
                    <div class="TasksListStudent-footerMarks" data-avg="{{ data.avgMark }}">
                        {% for mark in range(4) %}
                            <div class="TasksListStudent-footerMarksItem" data-id="{{ loop.index0 }}">
                                <div class="TasksListStudent-footerMarksItemIcon">
                                    {{ svgSprite('icon-mark-' + (mark + 2)|string) }}
                                </div>
                                <div class="TasksListStudent-footerMarksItemText">
                                    {{ marksName[(mark + 2)|string] }}
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <div class="TasksListStudent-header">
                <div class="TasksListStudent-headerWrapper">
                    {{ TasksListStudentFilter(statuses) }}
                </div>
            </div>
            <div class="TasksListStudent-list">
                <div class="TasksListStudent-listInner">
                    {% for item in data.solutions %}
                        {{ TaskStudent(item, statuses[item.status]) }}
                    {% endfor %}
                </div>
            </div>
            <div class="TasksListStudent-footer">
                <div class="TasksListStudent-footerWrapper">
                    <div class="TasksListStudent-footerLine">
                        <svg width="586px" height="17px" viewBox="0 0 586 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <defs>
                                <linearGradient x1="0%" y1="0%" x2="100%" y2="0%" id="linearGradient-2">
                                    <stop stop-color="#2ED47A" offset="0%"></stop>
                                    <stop stop-color="#2ED47A" offset="50%" class="TasksListStudent-footerLineEnd"></stop>
                                    <stop stop-color="#C2CFE0" offset="50%" class="TasksListStudent-footerLineStart"></stop>
                                    <stop stop-color="#C2CFE0" offset="100%"></stop>
                                </linearGradient>
                            </defs>
                            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <g id="Vector" fill="url(#linearGradient-2)" fill-rule="nonzero">
                                    <path d="M584,0 C585.105,0 586,0.895431 586,2 C586,3.10457 585.105,4 584,4 L575.945,4 L575.945,15.0977 C575.945,15.5576692 575.600763,15.9372882 575.156113,15.9929694 L575.043,16 C574.545,16 574.141,15.596 574.141,15.0977 L574.141,15.0977 L574.141,4 L557.141,4 L557.141,9.09766 C557.141,9.55767538 556.796763,9.93728935 556.351327,9.99296951 L556.238,10 C555.74,10 555.336,9.59601 555.336,9.09766 L555.336,9.09766 L555.336,4 L538.336,4 L538.336,9.09766 C538.336,9.55767538 537.991763,9.93728935 537.547113,9.99296951 L537.434,10 C536.935,10 536.531,9.59601 536.531,9.09766 L536.531,9.09766 L536.531,4 L519.53,4 L519.531,9.09766 C519.531,9.55767538 519.186763,9.93728935 518.742113,9.99296951 L518.629,10 C518.131,10 517.727,9.59601 517.727,9.09766 L517.727,9.09766 L517.726,4 L500.727,4 L500.727,9.09766 C500.727,9.55767538 500.382763,9.93728935 499.937327,9.99296951 L499.824,10 C499.326,10 498.922,9.59601 498.922,9.09766 L498.922,9.09766 L498.922,4 L481.921,4 L481.922,8.71671 C481.922,9.17672538 481.577763,9.55633935 481.133113,9.61201951 L481.02,9.61905 C480.521,9.61905 480.117,9.21506 480.117,8.71671 L480.117,8.71671 L480.116,4 L463.117,4 L463.117,8.71671 C463.117,9.17672538 462.772763,9.55633935 462.328113,9.61201951 L462.215,9.61905 C461.716,9.61905 461.312,9.21506 461.312,8.71671 L461.312,8.71671 L461.312,4 L444.311,4 L444.312,8.09766 C444.312,8.55767538 443.968615,8.93728935 443.52331,8.99296951 L443.41,9 C442.912,9 442.508,8.59601 442.508,8.09766 L442.508,8.09766 L442.507,4 L425.508,4 L425.508,7.71671 C425.508,8.17672538 425.163763,8.55633935 424.718327,8.61201951 L424.605,8.61905 C424.107,8.61905 423.703,8.21506 423.703,7.71671 L423.703,7.71671 L423.703,4 L406.703,4 L406.703,8.71671 C406.703,9.17672538 406.358763,9.55633935 405.914113,9.61201951 L405.801,9.61905 C405.302,9.61905 404.898,9.21506 404.898,8.71671 L404.898,8.71671 L404.898,4 L387.897,4 L387.898,16.0977 C387.898,16.5576692 387.553763,16.9372882 387.109113,16.9929694 L386.996,17 C386.498,17 386.094,16.596 386.094,16.0977 L386.094,16.0977 L386.093,4 L369.094,4 L369.094,7.71671 C369.094,8.17672538 368.749763,8.55633935 368.304327,8.61201951 L368.191,8.61905 C367.693,8.61905 367.289,8.21506 367.289,7.71671 L367.289,7.71671 L367.289,4 L350.288,4 L350.289,7.71671 C350.289,8.17672538 349.944763,8.55633935 349.500113,8.61201951 L349.387,8.61905 C348.888,8.61905 348.484,8.21506 348.484,7.71671 L348.484,7.71671 L348.483,4 L331.484,4 L331.484,6.71671 C331.484,7.17672538 331.139763,7.55633935 330.695113,7.61201951 L330.582,7.61905 C330.084,7.61905 329.68,7.21506 329.68,6.71671 L329.68,6.71671 L329.68,4 L312.68,4 L312.68,6.71671 C312.68,7.17672538 312.335763,7.55633935 311.890327,7.61201951 L311.777,7.61905 C311.279,7.61905 310.875,7.21506 310.875,6.71671 L310.875,6.71671 L310.875,4 L293.874,4 L293.875,8.09766 C293.875,8.55767538 293.530763,8.93728935 293.086113,8.99296951 L292.973,9 C292.474,9 292.07,8.59601 292.07,8.09766 L292.07,8.09766 L292.069,4 L275.07,4 L275.07,7.71671 C275.07,8.17672538 274.725763,8.55633935 274.281113,8.61201951 L274.168,8.61905 C273.67,8.61905 273.266,8.21506 273.266,7.71671 L273.266,7.71671 L273.266,4 L256.266,4 L256.266,7.71671 C256.266,8.17672538 255.921763,8.55633935 255.476327,8.61201951 L255.363,8.61905 C254.865,8.61905 254.461,8.21506 254.461,7.71671 L254.461,7.71671 L254.461,4 L237.461,4 L237.461,7.71671 C237.461,8.17672538 237.116763,8.55633935 236.672113,8.61201951 L236.559,8.61905 C236.06,8.61905 235.656,8.21506 235.656,7.71671 L235.656,7.71671 L235.656,4 L218.656,4 L218.656,7.71671 C218.656,8.17672538 218.311763,8.55633935 217.867113,8.61201951 L217.754,8.61905 C217.256,8.61905 216.852,8.21506 216.852,7.71671 L216.852,7.71671 L216.852,4 L199.852,4 L199.852,16.0977 C199.852,16.5576692 199.507763,16.9372882 199.062327,16.9929694 L198.949,17 C198.451,17 198.047,16.596 198.047,16.0977 L198.047,16.0977 L198.047,4 L181.047,4 L181.047,8.09766 C181.047,8.55767538 180.702763,8.93728935 180.258113,8.99296951 L180.145,9 C179.646,9 179.242,8.59601 179.242,8.09766 L179.242,8.09766 L179.242,4 L162.242,4 L162.242,7.71671 C162.242,8.17672538 161.897763,8.55633935 161.453113,8.61201951 L161.34,8.61905 C160.841,8.61905 160.438,8.21506 160.438,7.71671 L160.438,7.71671 L160.438,4 L143.438,4 L143.438,7.71671 C143.438,8.17672538 143.093763,8.55633935 142.648327,8.61201951 L142.535,8.61905 C142.037,8.61905 141.633,8.21506 141.633,7.71671 L141.633,7.71671 L141.633,4 L124.633,4 L124.633,7.71671 C124.633,8.17672538 124.288763,8.55633935 123.843327,8.61201951 L123.73,8.61905 C123.232,8.61905 122.828,8.21506 122.828,7.71671 L122.828,7.71671 L122.828,4 L105.828,4 L105.828,8.09766 C105.828,8.55767538 105.483763,8.93728935 105.039113,8.99296951 L104.926,9 C104.427,9 104.023,8.59601 104.023,8.09766 L104.023,8.09766 L104.023,4 L87.023,4 L87.0234,7.71671 C87.0234,8.17672538 86.6791633,8.55633935 86.2342774,8.61201951 L86.1211,8.61905 C85.6227,8.61905 85.2188,8.21506 85.2188,7.71671 L85.2188,7.71671 L85.218,4 L68.218,4 L68.2188,7.71671 C68.2188,8.17672538 67.8745633,8.55633935 67.4295987,8.61201951 L67.3164,8.61905 C66.8181,8.61905 66.4141,8.21506 66.4141,7.71671 L66.4141,7.71671 L66.414,4 L49.414,4 L49.4141,7.71671 C49.4141,8.17672538 49.0698633,8.55633935 48.6248987,8.61201951 L48.5117,8.61905 C48.0134,8.61905 47.6094,8.21506 47.6094,7.71671 L47.6094,7.71671 L47.609,4 L30.609,4 L30.6094,7.71671 C30.6094,8.17672538 30.2651633,8.55633935 29.8201987,8.61201951 L29.707,8.61905 C29.2087,8.61905 28.8047,8.21506 28.8047,7.71671 L28.8047,7.71671 L28.804,4 L11.804,4 L11.8047,16.0977 C11.8047,16.5576692 11.4604633,16.9372882 11.0154987,16.9929694 L10.9023,17 C10.404,17 10,16.596 10,16.0977 L10,16.0977 L10,4 L2,4 C0.895426,4 0,3.10457 0,2 C0,0.895431 0.89543,0 2,0 L584,0 Z" id="Combined-Shape"></path>
                                </g>
                            </g>
                        </svg>
                    </div>
                    <div class="TasksListStudent-footerMarks" data-avg="{{ data.avg_mark }}">
                        {% for mark in range(4) %}
                            <div class="TasksListStudent-footerMarksItem" data-id="{{ loop.index0 }}">
                                <div class="TasksListStudent-footerMarksItemIcon">
                                    {{ svgSprite('icon-mark-' + (mark + 2)|string) }}
                                </div>
                                <div class="TasksListStudent-footerMarksItemText">
                                    {{ marksName[(mark + 2)|string] }}
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}
